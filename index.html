<!DOCTYPE html>
<html>
<head>
    <title>Monster Slayer</title>
    <script src="https://npmcdn.com/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="css/foundation.min.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<div id="app">
    <section class="row">
        <div class="small-6 columns">
            <h1 class="text-center">YOU</h1>
            <div class="healthbar">
                <div class="healthbar text-center" v-bind:style="{width: health + '%'}" style="background-color: green; margin: 0; color: white;">
                  100
                </div>
            </div>
        </div>
        <div class="small-6 columns">
            <h1 class="text-center">MONSTER</h1>
            <div class="healthbar" >
                <div class="healthbar text-center" v-bind:style="{width: monsterHealth + '%'}" style="background-color: green; margin: 0; color: white;">
                  100
                </div>
            </div>
        </div>
    </section>
    <section v-if='!gameStarted' class="row controls">
        <div class="small-12 columns">
            <button id="start-game" v-on:click='gameStarted = true'>START NEW GAME</button>
        </div>
    </section>
    <section v-else class="row controls">
        <div class="small-12 columns">
            <button id="attack" v-on:click='attack'>ATTACK</button>
            <button id="special-attack" v-on:click='specialAttack'>SPECIAL ATTACK</button>
            <button id="heal" v-on:click='heal'>HEAL</button>
            <button id="give-up" v-on:click='gameStarted = false'>GIVE UP</button>
        </div>
    </section>
    <section class="row log">
        <div class="small-12 columns">
            <ul>
                <li>

                </li>
            </ul>
        </div>
    </section>
</div>

<script>
new Vue({
  el: '#app',
  data: {
    gameStarted: false,
    health: 100,
    monsterHealth: 100,
    playerLog: [],
    monsterLog: []
  },
  computed: {
    attack: function(){
      return true;
    },
    specialAttack: function (){
      return true;
    },
    heal: function() {
    return true;
  },
  stopGame: function(){
    this.health = 100;
    this.gameStarted = false;
    this.monsterHealth = 100;
    this.playerLog = [];
    this.monsterLog = [];
  }
  },
  watch: {
    // automatic attack of a monster
    gameStarted: function(){
        var self = this;
        setInterval(function() {
          var randNum = Math.floor(Math.random() * 10) + 1;
          if(self.gameStarted === true)
          self.health -= randNum;
        }, 2000)
    }
  }

})

</script>
</body>
</html>
